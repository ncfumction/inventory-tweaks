@ require anonymous_resources:storage

var log = anonymous_storage('log')
eval on_load(function () {
    unless data storage ${log.target} ${log.member} set $log = []
})

tellraw @s {"nbt": ${(string)(log >> []).member}, "storage": ${(string)log.target}, "separator": "\n", "interpret": true}
set $log = []
